# Slack投稿エラー分析

## 🔍 問題の状況

### 現在の設定
- **チャンネルID**: `C0A07A5747J`
- **Bot Token**: 設定済み
- **Bot**: チャンネルに追加済み

### エラー
- `channel_not_found` エラーが発生
- しかし、テストスクリプトでは同じチャンネルIDで投稿が成功

## 📊 テスト結果の比較

### ✅ テストスクリプト（成功）
- シンプルな `text` メッセージ: 成功
- `blocks` 形式のメッセージ: 成功

### ❌ アプリケーション（失敗）
- `blocks` 形式のメッセージ: `channel_not_found` エラー

## 💡 考えられる原因

### 1. メッセージ形式の問題
アプリケーションで使用しているメッセージ形式に問題がある可能性があります。

### 2. タイミングの問題
チャンネルが作成された直後で、APIが認識していない可能性があります。

### 3. キャッシュの問題
Slack APIのキャッシュが古い可能性があります。

## 🔧 解決方法

### 方法1: チャンネル名を使用（全角文字を避ける）

全角文字のチャンネル名が問題の可能性があります。英語のチャンネル名に変更するか、チャンネルIDを再確認してください。

### 方法2: チャンネルIDを再取得

1. Slackでチャンネルを開く
2. チャンネル名をクリック → 「詳細」
3. URLからチャンネルIDを再確認
4. `config/config.json` を更新

### 方法3: シンプルなメッセージ形式に変更

`blocks` を使わず、シンプルな `text` のみを使用してみてください。

```python
message = {
    'text': f'📝 議事録が生成されました\n\nファイル名: {file_name}\n日付: {date_str}\nDocument: {doc_url}'
}
```

## 🧪 デバッグ手順

1. **チャンネルIDを再確認**
   ```bash
   # SlackでチャンネルのURLを確認
   # 例: https://workspace.slack.com/archives/C0A07A5747J
   ```

2. **テストスクリプトで確認**
   ```bash
   python test_slack_connection.py
   ```

3. **アプリケーションで確認**
   ```bash
   python python/main.py --test
   ```

## 📝 次のステップ

1. チャンネルIDを再取得・確認
2. チャンネル名を英語に変更（オプション）
3. シンプルなメッセージ形式に変更してテスト

