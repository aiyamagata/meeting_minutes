# 議事録フォーマット修正内容

## 📋 修正内容

### 1. 参加者名のマッピング改善 ✅

**問題**: 参加者名が正しく反映されない

**対応**:
- 正確なマッチング
- 大文字小文字を無視したマッチング
- 部分一致マッチング（スペースの違いに対応）

**設定箇所**:
```javascript
const PARTICIPANT_MAPPING = {
  'Co., Ltd OKAMOTO BROTHERS': '山形',
  'Creative Team ziek': '銅金',
  'R O': '竜',
  'Rico Yamazaki': 'リコ',
  'Tatsuya Okamoto': '龍允',
  'TAT': '龍允',
  'johnny leatherreport': 'ジョニー'
};
```

**注意**: 実際のファイルに表示されている名前と完全に一致するように、マッピングを調整してください。

---

### 2. まとめセクションの改行追加 ✅

**要望**: まとめセクションで、内容のまとまりごとに改行を追加

**対応**:
- 文末記号（。、.、！、？）で区切って、まとまりごとに改行を追加
- 各まとまりの後に空行を追加

**処理順序**: 文字起こし削除後、参加者名修正後に実施

---

### 3. セクション名の変更 ✅

**要望**: 「推奨される次のステップ」→「次にやること」に変更

**対応**:
- `replaceSectionNames()` 関数で置換
- 処理順序: 最初に実施（文字起こし削除前）

---

### 4. 文字起こしスクリプトの削除 ✅

**要望**: 実際の文字起こしスクリプトを削除

**対応**:
- 「文字起こし」「transcript」「発言内容」などのセクションを検出
- そのセクションの内容を全て削除
- 次のセクション（「まとめ」「次にやること」など）まで削除

**処理順序**: 最初に実施

---

## 🔄 処理の流れ

1. **セクション名の変更**（「推奨される次のステップ」→「次にやること」）
2. **文字起こしスクリプトの削除**
3. **参加者名の修正**
4. **まとめセクションの改行追加**

---

## 📝 注意事項

### 参加者名のマッピング

参加者名が正しく反映されない場合：

1. **マッピング設定を確認**
   - 実際のファイルに表示されている名前と完全に一致しているか
   - 大文字小文字、スペース、記号（.、,、'など）が一致しているか

2. **ログで確認**
   - `testGetMeetingTranscripts` を実行
   - 実行ログで「名前をマッピング: ...」というメッセージを確認
   - マッピングされていない場合は、マッピング設定を追加

3. **マッピング設定の追加例**
   ```javascript
   const PARTICIPANT_MAPPING = {
     'Co., Ltd OKAMOTO BROTHERS': '山形',
     // 実際のファイルに表示されている名前: マッピング後の名前
     // 例: '実際の名前': 'マッピング後の名前'
   };
   ```

---

## 🧪 テスト方法

1. `testGetMeetingTranscripts` 関数を実行
2. 実行ログで以下を確認：
   - 参加者名のマッピングログ
   - セクション名の変更ログ
   - 文字起こし削除ログ
   - まとめフォーマットログ
3. 生成された議事録を確認：
   - 参加者名が正しく修正されているか
   - まとめセクションが改行されているか
   - 「次にやること」に変更されているか
   - 文字起こしスクリプトが削除されているか

---

## 🔧 カスタマイズ

### 参加者名のマッピングを追加

```javascript
const PARTICIPANT_MAPPING = {
  '元の名前': 'マッピング後の名前',
  // 追加
};
```

### まとめセクションの改行方法を変更

`formatSummaryContent()` 関数を編集

### 文字起こし削除のキーワードを変更

`removeTranscriptScript()` 関数内の `transcriptStartKeywords` を編集

