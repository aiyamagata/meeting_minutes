# SlackチャンネルIDの取得方法

## 🔍 問題の原因

`channel_not_found` エラーの原因は、**全角文字のチャンネル名（`#議事録`）をSlack APIが正しく認識していない**可能性があります。

**解決方法**: チャンネル名の代わりに**チャンネルID**を使用します。

---

## 📋 チャンネルIDを取得する方法

### 方法1: SlackのUIから取得（最も簡単）✅ 推奨

1. **Slackで `#議事録` チャンネルを開く**

2. **チャンネル名をクリック** → 「詳細」を選択

3. **URLを確認**
   - ブラウザのアドレスバーに表示されるURLを確認
   - 例: `https://yourworkspace.slack.com/archives/C1234567890`
   - この場合、チャンネルIDは `C1234567890`（`C` で始まる文字列）

4. **チャンネルIDをコピー**
   - `C` から始まる部分をコピー

### 方法2: チャンネルの情報から取得

1. **チャンネル名を右クリック**
2. **「チャンネルの詳細を表示」を選択**
3. **URLからチャンネルIDを取得**

---

## ⚙️ 設定ファイルの更新

取得したチャンネルIDを `config/config.json` に設定します：

```json
{
  "slack": {
    "bot_token": "xoxb-...",
    "channel": "C1234567890"  // ← チャンネルID（#は不要）
  }
}
```

**注意**: 
- チャンネルIDを使用する場合、`#` は不要です
- チャンネルIDは `C` で始まる文字列です

---

## 🧪 動作確認

設定を更新したら、再度テスト実行：

```bash
python python/main.py --test
```

**成功の確認**:
- `Slack投稿に失敗しました: channel_not_found` が表示されない
- `Slackにメッセージを投稿しました: C1234567890` と表示される
- 実際にSlackチャンネルにメッセージが投稿される

---

## 💡 なぜチャンネルIDを使うのか？

1. **全角文字の問題を回避**: 全角文字のチャンネル名は、APIで正しく認識されない場合があります
2. **確実性**: チャンネルIDは一意で、確実にチャンネルを特定できます
3. **パフォーマンス**: チャンネルIDの方が検索が速いです

---

## 🔧 スコープを追加する方法（上級者向け）

もしチャンネル一覧を取得したい場合は、以下のスコープを追加します：

1. [Slack API](https://api.slack.com/apps) にアクセス
2. アプリを選択
3. 「OAuth & Permissions」を選択
4. 「Scopes」セクションで以下を追加：
   - `channels:read` - パブリックチャンネル
   - `groups:read` - プライベートチャンネル
5. 「Install to Workspace」を再実行

ただし、チャンネルIDを直接使用する方が簡単なので、この方法は推奨しません。

